{% extends 'master.dashboard.html' %}

{% block body %}
<!-- <script src="/javascripts/speechrecognition.js"></script>
<script src="/javascripts/BingSpeech.js" type="text/javascript"></script> -->

<div class="row">
    <div class="col-6">
        <h4 class="mb-0">{{ title }}</h4>
        <h6 class="mb-5">Broadcast a message to children's parents or teachers.</h6>
    </div>
    <div class="col-6 text-right">
        <a class="btn btn-outline-primary" href="{{ path_for('broadcast') }}">Return to Broadcasts</a>
    </div>
</div>
<form method="post" action="{{ path_for('broadcastCreate') }}">
    <div class="card mb-4">
        <div class="card-header">
            Write Your Message
        </div>
        <div class="card-block">
            <p class="lead">You can send out a message to selected recipient groups and they will receive an email containing your message instantly. Please use this feature with care.</p>
            <br>
            <div class="form-group row">
                <label class="col-12 col-sm-3 col-form-label" for="subject">Subject Line:</label>
                <div class="col-12 col-sm-9">
                    <input class="form-control" type="text" name="subject" id="subject" maxlength="64" value="{{ formdata.subject }}" placeholder="Write a brief subject line." required>
                </div>
            </div>
            <div class="form-group row">
                <label class="col-12 col-sm-3 col-form-label" for="message">Message:</label>
                <div class="col-12 col-sm-9">
                    <!-- <button onclick="recordspeech('message','mcspa')" type="button" class="uploadcare--widget__button uploadcare--widget__button_type_open tiny"><i class="fa fa-microphone"></i>  Record Speech</button>
                    <button onclick="stopspeech()" type="button" class="uploadcare--widget__button uploadcare--widget__button_type_open tiny"><i class="fa fa-stop-circle"></i> Stop</button>
                    <img class="voice_detect hidden" id="mcspa"  src="/images/waiting.gif" alt="Waiting gif"> -->
                    <textarea class="form-control" name="message" id="message" rows="6" maxlength="512" placeholder="Compose the message you want to send out instantly." required>{{ formdata.message }}</textarea>
                </div>
            </div>
            <div class="form-group row">
                <label class="col-12 col-sm-3 col-form-label">Recipient Groups:</label>
                <div class="col-12 col-sm-9">
                    <label class="custom-control custom-checkbox">
                        <input type="checkbox" name="recipients[teachers]" class="custom-control-input">
                        <span class="custom-control-indicator"></span>
                        <span class="custom-control-description">All Teachers</span>
                    </label>
                    <label class="custom-control custom-checkbox">
                        <input type="checkbox" name="recipients[parents]" class="custom-control-input">
                        <span class="custom-control-indicator"></span>
                        <span class="custom-control-description">All Parents</span>
                    </label>
                </div>
            </div>
        </div>
        <div class="card-footer">
            <button class="btn btn-primary" type="submit">Submit</button>
        </div>
    </div>
    <input type="hidden" name="{{ csrf.keys.name }}" value="{{ csrf.name }}">
    <input type="hidden" name="{{ csrf.keys.value }}" value="{{ csrf.value }}">
</form>
{% endblock %}
